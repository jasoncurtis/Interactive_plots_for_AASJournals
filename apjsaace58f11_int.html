<!DOCTYPE HTML>
<html>
<head>
    <title>CLAMATO - IGM Tomography</title>
    <meta charset="utf-8"/>
    <meta name="author" content="Thomas Mueller, HdA" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />    
    <script type="text/javascript" src="x3dom.js"></script>    
    <link rel="stylesheet" type="text/css" href="x3dom.css" />    
    <style>
    x3d { 
            border: 2px solid blue;
            margin: 10px;
            width: 600px;
            height: 300px;
            display: block;
            float: none;
    }
    </style>
    
    <script>
        function toggle_isosurf1() {
            var transp = document.getElementById("IGM__matIso1").getFieldValue("transparency");
            if (transp < 0.8) {
                document.getElementById("IGM__matIso1").setFieldValue("transparency", 1.0);
            }
            else {
                document.getElementById("IGM__matIso1").setFieldValue("transparency", 0.5);
            }
        }
        
        function toggle_isosurf2() {
            var transp = document.getElementById("IGM__matIso2").getFieldValue("transparency");
            if (transp < 0.5) {
                document.getElementById("IGM__matIso2").setFieldValue("transparency", 1.0);
            }
            else {
                document.getElementById("IGM__matIso2").setFieldValue("transparency", 0.0);
            }
        }
                
        function loadData() {
            var sc = document.getElementById("mymap");
            sc.setAttribute("load", "true");
        }
        
        function resetView() {            
            var obs = document.getElementById("IGM__Observer");
            obs.setAttribute("position", "-127.41234 142.08275 260.11666");
            obs.setAttribute("orientation", "-0.32397 -0.93576 -0.13929 0.98133");
            document.getElementById("IGM__matIso1").setAttribute("diffuseColor", "0.0 0.7333 1.0");
            document.getElementById("IGM__matIso2").setAttribute("diffuseColor", "0.172549 0.211765 1");
            document.getElementById("IGM__mat_z21").setAttribute("emissiveColor", "0.4 0.4 1");
            document.getElementById("IGM__mat_z22").setAttribute("emissiveColor", "0 1 0");
            document.getElementById("IGM__mat_z23").setAttribute("emissiveColor", "1 1 0");
            document.getElementById("IGM__mat_z24").setAttribute("emissiveColor", "1 0.6777 0");
            document.getElementById("IGM__mat_z25").setAttribute("emissiveColor", "1 0 0");
        }

        x3dom.runtime.ready = function() {
            console.log("ready");
            //resetView();
        }
    </script>
</head>

<body>
    
    
    <!-- Content -->
    <section>
                 
        <x3d>
        <scene>
            <background skyColor="0 0 0"></background>
            <inline id="mymap" url="map2017_v3.x3d" nameSpaceName="IGM" mapDEFToID="true" onclick="" load="true"></inline>
            <inline url="map2017_v2_annotation.x3d" nameSpaceName="IGMA" mapDEFToID="true" onclick="" load="true"></inline> 
            <inline url="map2017_v2_galaxies.x3d" nameSpaceName="IGMG" mapDEFToID="true" onclick="" load="true"></inline> 
        </scene>
        </x3d>
        
      <div id="tools">
            <!-- <button style="width:300px;" onclick="loadData()">Load data</button> -->
        <button style="width:300px;" onclick="resetView()">Reset View</button>
        <b>Isosurfaces:</b></td>
        <button style="width:100px;" onclick="toggle_isosurf1()">-0.08</button>
        <button style="width:100px;" onclick="toggle_isosurf2()">-0.18</button>

      </div>

                  
    </section>


</body>
</html>
